{% extends 'maket.html' %}
{% load static %}
{% block detail %}

{% block script %}
{% if user.get_username == 'Max' %}
<!-- –î–ª—è –ú–∞–∫—Å–∏–º–∞ -->
 <script>
	 $(document).ready(function(){
		 var ctx = document.getElementById('Max_Total_Sales').getContext('2d');
		 var myChart = new Chart(ctx, {
			 type: 'bar',
			 data: {
				 labels: [
					 {% for item in maxim %}
					 "{{ item.type }}",
					 {% endfor %}
				 ],
				 datasets: [{
					 label: 'Sales',
					 data: [
						 {% for item in max_total_sales %}
						 "{{ item }}",
						 {% endfor %}
					 ],
					 backgroundColor: [
						 'rgba(255, 99, 132, 0.2)',
						 'rgba(54, 162, 235, 0.2)',
						 'rgba(255, 206, 86, 0.2)',
						 'rgba(75, 192, 192, 0.2)',
						 'rgba(153, 102, 255, 0.2)',
						 'rgba(255, 159, 64, 0.2)'
					 ],
					 borderColor: [
						 'rgba(255, 99, 132, 1)',
						 'rgba(54, 162, 235, 1)',
						 'rgba(255, 206, 86, 1)',
						 'rgba(75, 192, 192, 1)',
						 'rgba(153, 102, 255, 1)',
						 'rgba(255, 159, 64, 1)'
					 ],
					 borderWidth: 1
				 }]
			 },
			 options: {
				 scales: {
					 y: {
						 beginAtZero: true
					 }
				 }
			 }
		 });
	 });	
 </script>
 <script>
	 $(document).ready(function(){
		 var ctx = document.getElementById('Max_Ave_Sales').getContext('2d');
		 var myChart = new Chart(ctx, {
			 type: 'bar',
			 data: {
				 labels: [
					 {% for item in maxim %}
					 "{{ item.type }}",
					 {% endfor %}
				 ],
				 datasets: [{
					 label: '–°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏',
					 data: [
						 {% for item in max_ave_sales %}
						 "{{ item }}",
						 {% endfor %}
					 ],
					 backgroundColor: [
						 'rgba(255, 99, 132, 0.2)',
						 'rgba(54, 162, 235, 0.2)',
						 'rgba(255, 206, 86, 0.2)',
						 'rgba(75, 192, 192, 0.2)',
						 'rgba(153, 102, 255, 0.2)',
						 'rgba(255, 159, 64, 0.2)'
					 ],
					 borderColor: [
						 'rgba(255, 99, 132, 1)',
						 'rgba(54, 162, 235, 1)',
						 'rgba(255, 206, 86, 1)',
						 'rgba(75, 192, 192, 1)',
						 'rgba(153, 102, 255, 1)',
						 'rgba(255, 159, 64, 1)'
					 ],
					 borderWidth: 1
				 }]
			 },
			 options: {
				 scales: {
					 y: {
						 beginAtZero: true
					 }
				 }
			 }
		 });
	 });	
 </script>
 <script>
	 $(document).ready(function(){
		 var ctx = document.getElementById(' Max –û–±—â–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –≤ $').getContext('2d');
		 var myChart = new Chart(ctx, {
			 type: 'bar',
			 data: {
				 labels: [
					 {% for item in maxim %}
					 "{{ item.type }}",
					 {% endfor %}
				 ],
				 datasets: [{
					 label: '–û–±—â–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –≤ $',
					 data: [
						 {% for item in max_got_money %}
						 "{{ item }}",
						 {% endfor %}
					 ],
					 backgroundColor: [
						 'rgba(255, 99, 132, 0.2)',
						 'rgba(54, 162, 235, 0.2)',
						 'rgba(255, 206, 86, 0.2)',
						 'rgba(75, 192, 192, 0.2)',
						 'rgba(153, 102, 255, 0.2)',
						 'rgba(255, 159, 64, 0.2)'
					 ],
					 borderColor: [
						 'rgba(255, 99, 132, 1)',
						 'rgba(54, 162, 235, 1)',
						 'rgba(255, 206, 86, 1)',
						 'rgba(75, 192, 192, 1)',
						 'rgba(153, 102, 255, 1)',
						 'rgba(255, 159, 64, 1)'
					 ],
					 borderWidth: 1
				 }]
			 },
			 options: {
				 scales: {
					 y: {
						 beginAtZero: true
					 }
				 }
			 }
		 });
	 });	
 </script>
 {% else %}
<script>
	$(document).ready(function(){
		var ctx = document.getElementById('Total_Sales').getContext('2d');
		var myChart = new Chart(ctx, {
			type: 'bar',
			data: {
				labels: [
					{% for item in type %}
					"{{ item.type }}",
					{% endfor %}
				],
				datasets: [{
					label: 'Sales',
					data: [
						{% for item in type_1 %}
						"{{ item }}",
						{% endfor %}
					],
					backgroundColor: [
						'rgba(255, 99, 132, 0.2)',
						'rgba(54, 162, 235, 0.2)',
						'rgba(255, 206, 86, 0.2)',
						'rgba(75, 192, 192, 0.2)',
						'rgba(153, 102, 255, 0.2)',
						'rgba(255, 159, 64, 0.2)'
					],
					borderColor: [
						'rgba(255, 99, 132, 1)',
						'rgba(54, 162, 235, 1)',
						'rgba(255, 206, 86, 1)',
						'rgba(75, 192, 192, 1)',
						'rgba(153, 102, 255, 1)',
						'rgba(255, 159, 64, 1)'
					],
					borderWidth: 1
				}]
			},
			options: {
				scales: {
					y: {
						beginAtZero: true
					}
				}
			}
		});
	});	
</script>
<script>
	$(document).ready(function(){
		var ctx = document.getElementById('Ave_Sales').getContext('2d');
		var myChart = new Chart(ctx, {
			type: 'bar',
			data: {
				labels: [
					{% for item in type %}
					"{{ item.type }}",
					{% endfor %}
				],
				datasets: [{
					label: '–°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏',
					data: [
						{% for item in ave_sales %}
						"{{ item }}",
						{% endfor %}
					],
					backgroundColor: [
						'rgba(255, 99, 132, 0.2)',
						'rgba(54, 162, 235, 0.2)',
						'rgba(255, 206, 86, 0.2)',
						'rgba(75, 192, 192, 0.2)',
						'rgba(153, 102, 255, 0.2)',
						'rgba(255, 159, 64, 0.2)'
					],
					borderColor: [
						'rgba(255, 99, 132, 1)',
						'rgba(54, 162, 235, 1)',
						'rgba(255, 206, 86, 1)',
						'rgba(75, 192, 192, 1)',
						'rgba(153, 102, 255, 1)',
						'rgba(255, 159, 64, 1)'
					],
					borderWidth: 1
				}]
			},
			options: {
				scales: {
					y: {
						beginAtZero: true
					}
				}
			}
		});
	});	
</script>
<script>
	$(document).ready(function(){
		var ctx = document.getElementById('–û–±—â–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –≤ $').getContext('2d');
		var myChart = new Chart(ctx, {
			type: 'bar',
			data: {
				labels: [
					{% for item in type %}
					"{{ item.type }}",
					{% endfor %}
				],
				datasets: [{
					label: '–û–±—â–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –≤ $',
					data: [
						{% for item in money %}
						"{{ item }}",
						{% endfor %}
					],
					backgroundColor: [
						'rgba(255, 99, 132, 0.2)',
						'rgba(54, 162, 235, 0.2)',
						'rgba(255, 206, 86, 0.2)',
						'rgba(75, 192, 192, 0.2)',
						'rgba(153, 102, 255, 0.2)',
						'rgba(255, 159, 64, 0.2)'
					],
					borderColor: [
						'rgba(255, 99, 132, 1)',
						'rgba(54, 162, 235, 1)',
						'rgba(255, 206, 86, 1)',
						'rgba(75, 192, 192, 1)',
						'rgba(153, 102, 255, 1)',
						'rgba(255, 159, 64, 1)'
					],
					borderWidth: 1
				}]
			},
			options: {
				scales: {
					y: {
						beginAtZero: true
					}
				}
			}
		});
	});	
</script>
{% endif %}

{% endblock %}


<nav class="navbar navbar-default">
	<div class="container-fluid" style="background-color: #a4828f ">
		<div class="navbar-header">
			<h1> Amazonchik </h1>
		</div>
		<div>
			<ul class="nav navbar">
				{% if user.is_authenticated and user.get_username != 'Chief' and user.get_username != 'Max' %}
				<button type="button" class="btn btn-warning"><a href="{% url 'adding new' %}" class="link-dark">Add Products</a></button>
				<ul>
				 <li class="nav-link active"><font color=#FFF5EE>User: {{ user.get_username }}  </font></li>
				 <li class="nav-link active"><a href="{% url 'logout'%}?next={{request.path}}"><font color=#FFF5EE>Logout</font></a></li>
				 
				{% elif user.is_authenticated and user.get_username == 'Chief' %}
				<button type="button" class="btn btn-warning"><a href="{% url 'table' %}" class="link-dark">Sales</a></button>
				<ul>
				 <li class="nav-link active"><font color=#FFF5EE>User: {{ user.get_username }}  </font></li>
				 <li class="nav-link active"><a href="{% url 'logout'%}?next={{request.path}}"><font color=#FFF5EE>Logout</font></a></li>
				 {% elif user.is_authenticated and user.get_username == 'Max' %}
				 <button type="button" class="btn btn-warning"><a href="{% url 'table' %}" class="link-dark">Sales</a></button>
				 <ul>
				  <li class="nav-link active"><font color=#FFF5EE>User: {{ user.get_username }}  </font></li>
				  <li class="nav-link active"><a href="{% url 'logout'%}?next={{request.path}}"><font color=#FFF5EE>Logout</font></a></li>
				{% else %}
				 <li><a href="{% url 'login'%}?next={{request.path}}"><font color=#FFF5EE><h2>Login</h2></font></a></li>
				{% endif %} 
				</ul>
			</ul>
		</div>
	</div>
</nav>
{% if user.is_authenticated and user.get_username != "Max" %}
<div class="container">
	<div class="row sidebar-heading">
		<div class="col-xs-5 col-sm-5 col-md-5 col-lg-5" style="background-color: #f1e9e9">
			<div class="row">
				<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 sidebar-sticky" style="background-color: #c19999">
					<ul class="nav navbar-nav">
						<li class="active navbar-brand"> Managers: </li>
						{% if user.get_username == 'Sergik' or user.get_username == 'Chief' or user.get_username == 'MiMurka' or user.get_username == 'Chief'%}
						{% for person in managers %}
							{% if person.username == 'Maxim' or person.username == 'Iraüêù' or person.username == 'Chiefüí≤' or person.username == 'Nochnikiüåö'%}
							{% else %}
							<li class="nav navbar-toggler"><a class="nav-link active" aria-current="page" href="{% url 'manager_page' manager_id=person.id  %}"><font color=#FFF5EE>
							{{ person.username }}
							{% endif %}
							</font></a></li>
						{% endfor %}
						{% else %}
						<li class="nav navbar-toggler"><a class="nav-link active" aria-current="page" href="{% url 'manager_page' manager_id=user.id %}"><font color=#FFF5EE>{{ user.get_username }}
						</font></a></li>
						{% endif %}
						<br>
						{% if user.get_username == 'MiMurka' or user.get_username == 'Sergik' %}
						<button type="button" class="btn"><a href="{% url 'motivation' %}" class="link-light">Motivation</a></button>
						{% endif %}
					</ul>
				</div>
				<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 sidebar-sticky" style="background-color: #f5dbdb">
					<ul class="nav navbar-nav">
						<li class="active navbar-brand"> Brands: </li>
						{% for obj in brands %}
						<li class="nav navbar-toggler"><a class="nav-link active" aria-current="page" href="{% url 'brand' manager_id=user.id brandname=obj.id %}"><font color=#7B68EE>
							{{ obj }}
							</font></a></li>
						{% endfor %}
					</ul>
				</div>

				<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 sidebar-sticky" style="background-color: #FFE4E1">
					<ul class="nav navbar-nav">
						<li class="active navbar-brand"> Products: </li>
						{% for item in type %}
							<li class="nav navbar-toggler"><a class="nav-link active" aria-current="page" href="{% url 'product' name=item.type %}"><font color=#B8860B>
							{{ item.type }}
							</font></a></li>
						{% endfor %}
					</ul>
				</div>
			</div>
		</div>
		
		<!-- Table here -->
		<div class="col-xs-7 col-sm-7 col-md-7 col-lg-7" style="background-color: #FFFAFA">
			<ul class="nav navbar-nav">
				<li class="active navbar-brand">
					<div class="col-xs-7 col-sm-7 col-md-7 col-lg-7" align="left">
						
						<form class='form' method="POST" action="" >
							Sales     
							{% for i in form %}
								{{i}}
							{% endfor %}
							<input type="Submit" name="submit" value="Filter"/>
						</form>
					</div>
				</li>
				<li class="nav navbar-toggler"><canvas id="Total_Sales" width="400" height="200"></canvas></li>
				<li class="nav navbar-toggler"><canvas id="Ave_Sales" width="400" height="200"></canvas></li>
				<li class="nav navbar-toggler"><canvas id="–û–±—â–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –≤ $" width="400" height="200"></canvas></li>
			</ul>
		</div>
	</div>
</div>


{% elif user.get_username == 'Max' %}
<div class="container">
	<div class="row sidebar-heading">
		<div class="col-xs-5 col-sm-5 col-md-5 col-lg-5" style="background-color: #f1e9e9">
			<div class="row">
				<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 sidebar-sticky" style="background-color: #c19999">
					<ul class="nav navbar-nav">
						<li class="active navbar-brand"> Managers: </li>
						{% if user.get_username == 'Sergik' or user.get_username == 'Chief' or user.get_username == 'MiMurka' or user.get_username == 'Chief'%}
						{% for person in managers %}
						<li class="nav navbar-toggler"><a class="nav-link active" aria-current="page" href="{% url 'manager_page' manager_id=person.id  %}"><font color=#FFF5EE>
							{{ person.username }}
							</font></a></li>
						{% endfor %}
						{% else %}
						<li class="nav navbar-toggler"><a class="nav-link active" aria-current="page" href="{% url 'manager_page' manager_id=user.id %}"><font color=#FFF5EE>{{ user.get_username }}
						</font></a></li>
						{% endif %}
						<br>
						{% if user.get_username == 'MiMurka' or user.get_username == 'Sergik' %}
						<button type="button" class="btn"><a href="{% url 'motivation' %}" class="link-light">Motivation</a></button>
						{% endif %}
					</ul>
				</div>
				<!-- <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 sidebar-sticky" style="background-color: #f5dbdb">
					<ul class="nav navbar-nav">
						<li class="active navbar-brand"> Brands: </li>
						{% for obj in brands %}
						<li class="nav navbar-toggler"><a class="nav-link active" aria-current="page" href="{% url 'brand' manager_id=user.id brandname=obj.id %}"><font color=#7B68EE>
							{{ obj }}
							</font></a></li>
						{% endfor %}
					</ul>
				</div> -->

				<div class="col-xs-4 col-sm-4 col-md-4 col-lg-8 sidebar-sticky" style="background-color: #FFE4E1">
					<ul class="nav navbar-nav">
					<li class="active navbar-brand"> Products: </li>
					{% for item in maxim %}
					<li class="nav navbar-toggler"><a class="nav-link active" aria-current="page" href="{% url 'product' name=item.type %}"><font color=#B8860B>
						{{ item }}
					</font></a></li>
					{% endfor %}
					</ul>
				</div>
			</div>
		</div>
		
		<!-- Table here -->
		<div class="col-xs-7 col-sm-7 col-md-7 col-lg-7" style="background-color: #FFFAFA">
			<ul class="nav navbar-nav">
				<li class="active navbar-brand">
					<div class="col-xs-7 col-sm-7 col-md-7 col-lg-7" align="left">
						<form class='form' method="POST" action="" >
							Sales     
							{% for i in form %}
								{{i}}
							{% endfor %}
							<input type="Submit" name="submit" value="Filter"/>
						</form>
					</div>
				</li>
				<li class="nav navbar-toggler"><canvas id="Max_Total_Sales" width="400" height="200"></canvas></li>
				<li class="nav navbar-toggler"><canvas id="Max_Ave_Sales" width="400" height="200"></canvas></li>
				<li class="nav navbar-toggler"><canvas id="Max –û–±—â–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –≤ $" width="400" height="200"></canvas></li>
			</ul>
		</div>
	</div>
</div>
{% else %}

{% endif %} 
{% endblock %}
